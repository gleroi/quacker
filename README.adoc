= CQRS/ES

== Mixter style

repository: https://github.com/DevLyon/mixter

Commands:: 
- methods on object or classes. 
- Command structures are not part of core, but in web api

Events::
- structure/class, part of the domain
- produced by commands (methods of the domain)
- sent to an event bus (`EventPublisher`) to be applied to read models/projection
- events are applied to update state of domain object (with command methods)

Read model/projection::
- hydrated by subscription to event bus
- projections are created by event handler
- projections are saved in repository, repositories expose Queries
- from repositories, can query projections, retrieve domain object state

Transaction::
- no notion of transactions in the examples

== Young style

repository: https://github.com/gregoryyoung/m-r.git

Commands::
- part of domain, managed by a commands handler
- command are just data structure
- command handler is the code, like a service method

Events::
- generated by an aggregate, applied to update state immediatly,
- events are stored in aggregate for transaction duration
- events are saved by a repository, interface to the event store
- event store manage transactions with version number to detect conflicts
- events are save on by one, and sent to bus once saved

Read model::
- hydrated by subscription to event bus
